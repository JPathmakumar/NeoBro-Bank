<!DOCTYPE html>
<html>
<head>
    <title>Preston's Account</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #e8d9ff;
            display: flex;
            justify-content: center;
            padding: 30px;
        }

        /* Phone Frame */
        .phone {
            width: 380px;
            background: white;
            border-radius: 35px;
            box-shadow: 0 10px 30px #00000030;
            padding: 25px;
        }

        /* Top Row */
        .top-bar {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
            margin-bottom: 20px;
        }

        /* Purple Section */
        .balance-section {
            background: #f5ebff;
            text-align: center;
            padding: 20px;
            border-radius: 20px;
        }

        .spendable {
            font-size: 14px;
            color: #666;
        }

        .balance {
            font-size: 40px;
            font-weight: bold;
            margin-top: 5px;
        }

        /* Card */
        .card-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .credit-card {
            width: 320px;
            height: 180px;
            border-radius: 20px;
            background-size: cover;
            background-position: center;
            box-shadow: 0 4px 15px #0003;
        }

        /* Icon Buttons */
        .icon-row {
            display: flex;
            justify-content: space-around;
            margin-top: 25px;
        }

        .icon-btn {
            background: white;
            width: 60px;
            height: 60px;
            border-radius: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 10px #0002;
            font-size: 25px;
        }

        /* Profile Pic */
        .profile-pic {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        img.profile {
            border-radius: 50%;
            width: 120px;
            height: 120px;
            object-fit: cover;
            border: 4px solid #ddd;
        }

        button {
            margin-top: 10px;
            padding: 8px 15px;
            background: #8c4bff;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

    </style>
</head>
<body>

<div class="phone">

    <div class="top-bar">
        <span>üòä</span>
        <span>üõçÔ∏è</span>
        <span>üîî</span>
    </div>

    <div class="profile-pic">
        <img id="profilePic" class="profile" src="default.png">
    </div>

    <center>
        <input type="file" id="fileInput" accept="image/*">
        <button onclick="updateProfile()">Change Picture</button>
    </center>

    <div class="balance-section">
        <div class="spendable">Spendable</div>
        <div class="balance">$<span id="balance"></span></div>
    </div>

    <div class="card-container">
        <div id="creditCard" class="credit-card" style="background-image:url('preston-card.png')"></div>
    </div>

    <div class="icon-row">
        <div class="icon-btn">üì∑</div>
        <div class="icon-btn">üí≥</div>
        <div class="icon-btn">‚úàÔ∏è</div>
        <div class="icon-btn">‚öôÔ∏è</div>
    </div>

</div>

<script>
    const currentUser = "preston";
    let users = JSON.parse(localStorage.getItem("users")) || [];

    let userData = users.find(u => u.user === currentUser);

    // Balance
    document.getElementById("balance").innerText = userData ? userData.balance : "0";

    // Profile picture
    if (userData && userData.profile) {
        document.getElementById("profilePic").src = userData.profile;
    }

    function updateProfile() {
        const file = document.getElementById("fileInput").files[0];
        if (!file) return alert("Choose a file!");

        const reader = new FileReader();
        reader.onload = e => {
            userData.profile = e.target.result;

            const index = users.findIndex(u => u.user === currentUser);
            users[index] = userData;

            localStorage.setItem("users", JSON.stringify(users));
            document.getElementById("profilePic").src = e.target.result;
        };
        reader.readAsDataURL(file);
    }
</script>

</body>
</html>
